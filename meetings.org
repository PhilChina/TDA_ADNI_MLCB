#+BIND: org-export-use-babel nil
#+TITLE: Meeting Agendas
#+AUTHOR: Philip Hartout
#+EMAIL: <philip.hartout@protonmail.com>
#+DATE: September 16, 2020
#+LATEX_CLASS: article
#+LATEX_CLASS_OPTIONS:[a4paper,12pt,twoside]
#+LaTeX_HEADER:\usepackage[usenames,dvipsnames,figures]{xcolor}
#+LaTeX_HEADER:\usepackage[autostyle]{csquotes}
#+LaTeX_HEADER:\usepackage[final]{pdfpages}
#+LaTeX_HEADER:\usepackage[top=3cm, bottom=3cm, left=3cm, right=3cm]{geometry}
#+LATEX_HEADER_EXTRA:\hypersetup{colorlinks=false, linkcolor=black, citecolor=black, filecolor=black, urlcolor=black}
#+LATEX_HEADER_EXTRA:\newtheorem{definition}{Definition}[section]
#+LATEX_HEADER_EXTRA:\pagestyle{fancy}
#+LATEX_HEADER_EXTRA:\setlength{\headheight}{25pt}
#+LATEX_HEADER_EXTRA:\lhead{\textbf{Philip Hartout}}
#+LATEX_HEADER_EXTRA:\rhead{\textbf{}}
#+LATEX_HEADER_EXTRA:\rfoot{}
#+MACRO: NEWLINE @@latex:\\@@ @@html:<br>@@
#+PROPERTY: header-args :exports both :session python_emacs_session :cache :results value
#+OPTIONS: ^:nil
#+STARTUP: latexpreview
#+LATEX_COMPILER: pdflatexorg-mode restarted
* <2020-11-03 Tue> Written Update
Hi Bastian,
Just a short (editing this, maybe it's not so short after all ...:sweat_smile: ) weekly update here since we don't have a meeting today:
1. I tied up the loose ends with my pairwise distances script (turns
  out there were quite a lot of inconsistencies in the data generation
  process, luckily the conclusions don't really change).
2. I discussed the project at length with Felix on Friday, we came up
   with the idea of computing the distance of each image to the
   "average" of the vectorial representation of the data in each
   homology dimension and then color each points according to the
   MMSE and other neuropsychological test scores to see if there are borderline
   cases that were different than the normal score within the category
   and whether we see this in the topological representation as well.
3. I wanted to use other representations than the PIs for the
   classification tasks, such as betti curves and persistence
   landscapes, to see if there are any improvements. With my PIs, I
   got a score of approx. 70% on an unseen validation with both RFs
   and CNNs, the latter I'm sure could be optimized, but given this
   was not really the priority of this internship, I kind of left it
   at that. The current CNN implementation is simple, it goes along
   the lines of
inputs = keras.Input(shape=input_shape)
x = layers.Conv2D(100, kernel_size=5, padding="valid", activation="relu")(
    inputs
)
x = layers.BatchNormalization()(x)
x = layers.Activation("relu")(x)
x = layers.GlobalMaxPooling2D()(x)
x = layers.Dropout(0.2)(x)
outputs = layers.Dense(1, activation="sigmoid")(x)
return keras.Model(inputs, outputs)
4. As soon as I'm done with these two tasks (calculating distance from
   average vectorial representation in a homology dimension + using
   different features as inputs and tuning the models a little bit), I
   will start formalizing everything in written form to have
   everything well structured.
5. As always, the code and updates are in
   https://github.com/pjhartout/TDA_ADNI_MLCB, where the scripts
   directory contains most of the "formal" scripts I use to run and
   plot the data.
* <2020-10-27 Tue> Meeting Spark group
Look into normalization.
It's only possible to do this on the full image.

TDA + CNN pipeline has been done on normalized images, but the patch
are not among one another.

Be careful when normalizing between 0 and 1, use quantiles or absolute
mean 0 + stdev 0?
CNN performs on average better than the RF for PIs.

* <2020-10-26 Mon> Meeting Sarah to discuss data sources
** Questions
- What are the steps that have been performed in addition to fMRI
  prep?
- Index of other high accuracy regions?
- Is it possible to have the patches for the images in non-MNI space?
- Say I want to reproduce the findings of the fMRI prep with
  different atlases, how do I do it? Where is the data/compute? Is it
  possible to only do the last step using the T1w image already there?

It's only possible to do this on the full image.

TDA + CNN pipeline has been done on normalized images, but the patch
are not among one another.

Be careful when normalizing between 0 and 1, use quantiles or absolute
mean 0 + stdev 0?
CNN performs on average better than the RF for PIs.

* <2020-10-20 Tue> Meeting progress update #3
** Preparations
- Status update:
- Sarah: do you have the images in non-MNI space? What does the
  scaling correspond to?

* <2020-10-13 Tue> Meeting - Progress Update #2
** To discuss
- Progress update
- Access to compute (how to get euler access, or something else?),
  particularly lots of RAM for VR filtration.
- Cubical persistence vs. Vietoris-Rips persistence - good overview of
  this somewhere?
- List of topologcal descriptors somewhere? Can use same as [[https://github.com/BorgwardtLab/Ephemeral][here]]?
  Other suggestions?
- Atlases - where are they used exactly? In fMRI mostly? It seems they are
  not so relevant in sMRI.

* <2020-10-13 Tue> Meeting spark group
** Notes
- Look at superlevel sets
- Sarah Patch Coordinates
- Look at boundary effect
- Look at how much we can remove from the diagram.
- https://www.wikiwand.com/en/Level_set#/Sublevel_and_superlevel_sets
- latent representation?
- Some patients are classified accurately with TDA, some with RF.
Admin:
- move to biweekly setup

* <2020-09-29 Tue> Meeting - Progress Update #1
** Preparations
** Meeting Notes
Change of plans:
- Take region, and distance to next region by distance (# of voxels)
  -> weighted graph.
- Maybe look at temporal regions specifically.
- Look at DIPHA on hippocampal region?

* Spark group meeting <2020-10-06 Tue>
- What are longitudinal vs. cross-sectional pipeline for fressurfer?
- Access to repo from Louis?
- Should be able to access the normalized data without any additional
  steps required (see other notebook).

* <2020-09-29 Tue> SNF Spark Group Meeting
** Louis Lukas presentation
- Code?
- fMRIprep?
- State of the art?
- Look at differences between voxels and ROI.
- Voxel based morphometry pipeline.
- Describe all of the steps you did.
- Check all brain images one by one or don't say it at all.
- fMRIprep creates mask.
- fsl? What does that refer to? ->
  https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FslOverview
- Look at masking methods.
** Merel Kuijs presentation
- Check out demographics of the dataset I use.

* <2020-09-23 Wed> Meeting - Preliminaries
** Questions
- How to I get access to the ADNI dataset?
- Do you use VMs or similar as a working environment, or can I work on
  my own machine?
- Regarding internship, ok to sign in as K Borgwardt as supervisor on MyStudies?
- What are the specific goals of the project?
- Discuss also the timeline. Generally, Timeline: AS2020 (sept-dec
  ideally).
** Meeting Notes
Possible directions:
- Focus on the topological analysis of extracted graphs
- Try out different atlases and look at whether there is prior
  knowledge encoded in these, and whether TDA can remove this prior
  knowledge, be indifferent to these graphs.

State of the project:
- MRI images are already processed in a normalized fashion. See
  directory
  /links/groups/borgwardt/Data/ADNI/brain_extraction-complete_normalized/sub-ADNI002S0295
  for the typical patient. Different timepoints are available (up to
  4, at 6 months interval).

Regular meetings:
- Spark group meeting at 3pm
- Weekly one on one, choose slot (probably after Wednesday).

Administrative matters:
- Slack channel [TODO Bastian]
- Server access will be granted when
  registered. Servers are: =bs-borgwardt01= , =bs-borgwardt02=, =euler.ethz.ch=.
- Directory to ADNI directory: links/groups/borgwardt/Data/ADNI
- Look at brain extraction complete normalized within this directory
  for the preprocessed dataset.

Actionable list for next meeting:
- Take common atlas, extract graphs
- Then look at topological descriptors
- Look at packages: https://nilearn.github.io/ and https://giotto-ai.github.io/gtda-docs/latest/library.html
